<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/asciidoc/about.adoc at 2023-02-11
 | Rendered using Apache Maven Fluido Skin 1.11.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>cui test generator &#x2013; </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.11.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.11.1.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1>cui test generator</h1>
</div>
</div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2023-02-11<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.1.0-SNAPSHOT</li>
        <li class="pull-right"><a href="https://github.com/cuioss/cui-test-generator" class="externalLink" title="Home">Home</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li class="active"><a><span class="none"></span>About</a></li>
    <li><a href="apidocs/index.html" title="JavaDoc"><span class="none"></span>JavaDoc</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<div class="sect1">
<h2 id="about">About</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="generators">Generators</h3>
<div class="paragraph">
<p>Using the generators help creating variations of test-data. On the one hand it produces a large number of different values. On the other hand it makes error cases reproducible see <code>io.cui.test.generator.junit.EnableGeneratorController</code> and <code>io.cui.test.generator.junit.GeneratorSeed</code> for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="provided_features">Provided Features</h3>
<div class="paragraph">
<p>The generators defined within this packages are the base for the cui-value-object test framework. In essence, it is a variant of QuickCheck. In the current implementation it actually uses code derived from QuickCheck, thanks guys, but mostly the generator part.
This code is isolated in <code>io.cui.test.generator.internal.net.java.quickcheck</code> and will be replaced in the future.</p>
</div>
<div class="paragraph">
<p>Therefore: Do not use any of that code at all! Central elements are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>io.cui.test.generator.TypedGenerator</code>: Is the core type. Instances of it are used for generating arbitrary instances of any value-object. Compared to <code>io.cui.test.generator.internal.net.java.quickcheck.Generator</code> it provides an additional method providing runtime information on the type being generated: <code>io.cui.test.generator.TypedGenerator.getType()</code>.</p>
</li>
<li>
<p><code>io.cui.test.generator.Generators</code>: Factory methods for accessing io.cui.test.generator.TypedGenerator for many java-lang types.</p>
</li>
<li>
<p><code>io.cui.test.generator.domain</code>: Provides some domain specific io.cui.test.generator.TypedGenerator</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="usage">Usage</h3>
<div class="paragraph">
<p>The usage is straight forward <code>TypedGenerator#next()</code> always returns a random object that can be used for testing. See section 'Generators' on samples for concrete generators.</p>
</div>
</div>
<div class="sect2">
<h3 id="typedgenerator">TypedGenerator</h3>
<div class="paragraph">
<p><code>io.cui.test.generator.TypedGenerator</code></p>
</div>
<div class="paragraph">
<p>Central interface for a concrete generator instance. <code>TypedGenerator#next()</code> provides a random instance, <code>TypedGenerator#getType()</code> provides the types.
Sample implementation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ZoneOffsetGenerator</span> <span class="kd">implements</span> <span class="nc">TypedGenerator</span><span class="o">&lt;</span><span class="nc">ZoneOffset</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">TypedGenerator</span><span class="o">&lt;</span><span class="nc">ZoneId</span><span class="o">&gt;</span> <span class="no">ZONE_IDS_GEN</span> <span class="o">=</span>
        <span class="nc">Generators</span><span class="o">.</span><span class="na">fixedValues</span><span class="o">(</span><span class="nc">ZoneId</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">getAvailableZoneIds</span><span class="o">().</span><span class="na">stream</span><span class="o">().</span><span class="na">map</span><span class="o">(</span><span class="nl">ZoneId:</span><span class="o">:</span><span class="n">of</span><span class="o">).</span><span class="na">collect</span><span class="o">(</span><span class="n">toList</span><span class="o">()));</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">java</span><span class="o">.</span><span class="na">time</span><span class="o">.</span><span class="na">ZoneOffset</span> <span class="nf">next</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nc">LocalDateTime</span><span class="o">.</span><span class="na">now</span><span class="o">().</span><span class="na">atZone</span><span class="o">(</span><span class="no">ZONE_IDS_GEN</span><span class="o">.</span><span class="na">next</span><span class="o">()).</span><span class="na">getOffset</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">Class</span><span class="o">&lt;</span><span class="nc">ZoneOffset</span><span class="o">&gt;</span> <span class="nf">getType</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nc">ZoneOffset</span><span class="o">.</span><span class="na">class</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="generators_2">Generators</h3>
<div class="paragraph">
<p><code>io.cui.test.generator.Generators</code></p>
</div>
<div class="paragraph">
<p>Central factory for <code>TypedGenerator</code> for most java-built-in types and wrappers for <code>fixedValue</code> and <code>enumValue</code> variants</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"> <span class="n">assertNotNull</span><span class="o">(</span><span class="nc">Generators</span><span class="o">.</span><span class="na">strings</span><span class="o">().</span><span class="na">next</span><span class="o">());</span>
 <span class="n">assertNotNull</span><span class="o">(</span><span class="nc">Generators</span><span class="o">.</span><span class="na">letterStrings</span><span class="o">().</span><span class="na">next</span><span class="o">());</span>
 <span class="n">assertFalse</span><span class="o">(</span><span class="n">isEmpty</span><span class="o">(</span><span class="nc">Generators</span><span class="o">.</span><span class="na">nonEmptyStrings</span><span class="o">().</span><span class="na">next</span><span class="o">()));</span>
 <span class="n">assertFalse</span><span class="o">(</span><span class="n">isEmpty</span><span class="o">(</span><span class="nc">Generators</span><span class="o">.</span><span class="na">letterStrings</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">).</span><span class="na">next</span><span class="o">()));</span>

 <span class="n">assertNotNull</span><span class="o">(</span><span class="nc">Generators</span><span class="o">.</span><span class="na">booleans</span><span class="o">().</span><span class="na">next</span><span class="o">());</span>
 <span class="n">assertNotNull</span><span class="o">(</span><span class="nc">Generators</span><span class="o">.</span><span class="na">localTimes</span><span class="o">().</span><span class="na">next</span><span class="o">());</span>
 <span class="n">assertNotNull</span><span class="o">(</span><span class="nc">Generators</span><span class="o">.</span><span class="na">fixedValues</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="s">"http://de.icw-global.com"</span><span class="o">,</span> <span class="s">"https://www.heise.de"</span><span class="o">,</span> <span class="s">"http://getbootstrap.com"</span><span class="o">).</span><span class="na">next</span><span class="o">());</span>

 <span class="n">assertEquals</span><span class="o">(</span><span class="nc">Temporal</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="nc">Generators</span><span class="o">.</span><span class="na">temporals</span><span class="o">().</span><span class="na">getType</span><span class="o">());</span>
 <span class="n">assertNotNull</span><span class="o">(</span><span class="nc">Generators</span><span class="o">.</span><span class="na">enumValues</span><span class="o">(</span><span class="nc">PropertyMemberInfo</span><span class="o">.</span><span class="na">class</span><span class="o">).</span><span class="na">next</span><span class="o">());</span>
 <span class="n">assertEquals</span><span class="o">(</span><span class="nc">PropertyMemberInfo</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="nc">Generators</span><span class="o">.</span><span class="na">enumValues</span><span class="o">(</span><span class="nc">PropertyMemberInfo</span><span class="o">.</span><span class="na">class</span><span class="o">).</span><span class="na">getType</span><span class="o">());</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="collectiongenerator">CollectionGenerator</h3>
<div class="paragraph">
<p><code>io.cui.test.generator.impl.CollectionGenerator&lt;T&gt;</code></p>
</div>
<div class="paragraph">
<p>Wraps a given <code>TypedGenerator</code> and provides  additional methods for creating <code>Lists</code> and <code>Sets</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"> <span class="nc">CollectionGenerator</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">generator</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CollectionGenerator</span><span class="o">&lt;&gt;(</span><span class="nc">Generators</span><span class="o">.</span><span class="na">nonEmptyStrings</span><span class="o">());</span>
 <span class="n">assertNotNull</span><span class="o">(</span><span class="n">generator</span><span class="o">.</span><span class="na">list</span><span class="o">());</span>
 <span class="n">assertNotNull</span><span class="o">(</span><span class="n">generator</span><span class="o">.</span><span class="na">set</span><span class="o">());</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enablegeneratorcontroller">EnableGeneratorController</h3>
<div class="paragraph">
<p><code>io.cui.test.generator.junit.EnableGeneratorController</code></p>
</div>
<div class="paragraph">
<p>This annotation is meant to be set on a junit 5 test-case. It controls the generator subsystem and, in case of test-failures, provides information, that can be used for repeating the failed tests with a fixed seed for the generators, see <code>io.cui.test.generator.junit.GeneratorSeed</code> for details.
This fixed seed results in the generators reproducing the exact same test-data.</p>
</div>
<div class="paragraph">
<p>Sample output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="text">GeneratorController seed was 4711L.
Use a fixed seed by applying @GeneratorSeed(4711L) for the method/class,
or by using the system property '-Dio.cui.test.generator.seed=4711'</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="generatorseed">GeneratorSeed</h3>
<div class="paragraph">
<p><code>io.cui.test.generator.junit.GeneratorSeed</code></p>
</div>
<div class="paragraph">
<p>This annotation is to be used in the context of EnableGeneratorController. It explicitly sets the seed for the generators.</p>
</div>
<div class="paragraph">
<p>Usage:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@EnableGeneratorController</span>
<span class="nd">@GeneratorSeed</span><span class="o">(</span><span class="mi">5L</span><span class="o">)</span>
<span class="kd">class</span> <span class="nc">GeneratorControllerExtensionTest</span> <span class="o">{</span>

    <span class="nd">@Test</span>
    <span class="nd">@GeneratorSeed</span><span class="o">(</span><span class="mi">11L</span><span class="o">)</span>
    <span class="kt">void</span> <span class="nf">shouldReadFromMethod</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">assertEquals</span><span class="o">(</span><span class="mi">11L</span><span class="o">,</span> <span class="nc">RandomConfiguration</span><span class="o">.</span><span class="na">getLastSeed</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="nd">@Test</span>
    <span class="kt">void</span> <span class="nf">shouldReadFromType</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">assertEquals</span><span class="o">(</span><span class="mi">5L</span><span class="o">,</span> <span class="nc">RandomConfiguration</span><span class="o">.</span><span class="na">getLastSeed</span><span class="o">());</span>
    <span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2022&#x2013;2023
<a href="https://github.com/cuioss">CUI-OpenSource-Software</a>
</p>
        </div>
      </div>
    </footer>
<script>
	if(anchors) {
	  anchors.add();
	}
</script>
  </body>
</html>
